@import "tailwindcss";

/* Enable class-based dark mode for Tailwind CSS v4 */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Define custom background images as utilities */
  --background-image-gradient-tasks: linear-gradient(to right, rgb(59 130 246), rgb(37 99 235));
  --background-image-gradient-calendar: linear-gradient(to right, rgb(168 85 247), rgb(147 51 234));
  --background-image-gradient-reminders: linear-gradient(to right, rgb(236 72 153), rgb(219 39 119));
  --background-image-gradient-messages: linear-gradient(to right, rgb(34 197 94), rgb(22 163 74));
  --background-image-gradient-shopping: linear-gradient(to right, rgb(16 185 129), rgb(5 150 105));
  --background-image-gradient-meals: linear-gradient(to right, rgb(249 115 22), rgb(234 88 12));
  --background-image-gradient-projects: linear-gradient(to right, rgb(245 158 11), rgb(217 119 6));
  --background-image-gradient-goals: linear-gradient(to right, rgb(99 102 241), rgb(79 70 229));
  
  /* Define custom animations */
  --animation-bounce-subtle: bounce-subtle 2s ease-in-out infinite;
  --animation-fade-in: fade-in 0.3s ease-in-out;
  --animation-slide-up: slide-up 0.3s ease-out;
  --animation-slide-down: slide-down 0.3s ease-out;
}

@keyframes bounce-subtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes slide-up {
  0% {
    transform: translateY(10px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slide-down {
  0% {
    transform: translateY(-10px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@layer base {
  :root {
    --background: 0 0% 98%;
    --foreground: 222.2 84% 4.9%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
  }

  /* Global background colors for light mode */
  body {
    @apply bg-gray-50 dark:bg-black;
  }
}

@layer utilities {
  .gradient-primary {
    @apply bg-gradient-to-r from-purple-600 to-blue-600;
  }

  @keyframes bounce-subtle {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  .animate-bounce-subtle {
    animation: bounce-subtle 2s ease-in-out infinite;
  }

  /* Shimmer effect for text and buttons */
  @keyframes shimmer {
    0% {
      background-position: -200% center;
    }
    100% {
      background-position: 200% center;
    }
  }

  .shimmer {
    background: linear-gradient(
      90deg,
      #3b82f6 0%,
      #8b5cf6 25%,
      #ec4899 50%,
      #8b5cf6 75%,
      #3b82f6 100%
    );
    background-size: 200% auto;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s linear infinite;
  }

  .shimmer-bg {
    background: linear-gradient(
      90deg,
      #7c3aed 0%,
      #2563eb 25%,
      #7c3aed 50%,
      #2563eb 75%,
      #7c3aed 100%
    );
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  /* Feature-specific shimmer backgrounds with solid colors */
  .shimmer-tasks {
    background: linear-gradient(
      90deg,
      #3b82f6 0%,
      #2563eb 50%,
      #3b82f6 100%
    );
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  .shimmer-calendar {
    background: linear-gradient(
      90deg,
      #a855f7 0%,
      #9333ea 50%,
      #a855f7 100%
    );
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  .shimmer-reminders {
    background: linear-gradient(
      90deg,
      #ec4899 0%,
      #db2777 50%,
      #ec4899 100%
    );
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  .shimmer-messages {
    background: linear-gradient(
      90deg,
      #22c55e 0%,
      #16a34a 50%,
      #22c55e 100%
    );
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  .shimmer-shopping {
    background: linear-gradient(
      90deg,
      #10b981 0%,
      #059669 50%,
      #10b981 100%
    );
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  .shimmer-meals {
    background: linear-gradient(
      90deg,
      #f97316 0%,
      #ea580c 50%,
      #f97316 100%
    );
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  .shimmer-projects {
    background: linear-gradient(
      90deg,
      #f59e0b 0%,
      #d97706 50%,
      #f59e0b 100%
    );
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  .shimmer-goals {
    background: linear-gradient(
      90deg,
      #6366f1 0%,
      #4f46e5 50%,
      #6366f1 100%
    );
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  /* Gradient text with hover shimmer effect */
  .gradient-text {
    background: linear-gradient(
      90deg,
      #7c3aed 0%,
      #2563eb 100%
    );
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    transition: transform 0.2s ease;
  }

  .gradient-text:hover {
    background: linear-gradient(
      90deg,
      #3b82f6 0%,
      #8b5cf6 25%,
      #ec4899 50%,
      #8b5cf6 75%,
      #3b82f6 100%
    );
    background-size: 200% auto;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s linear infinite;
    transform: scale(1.02);
  }

  /* Shimmer effect for gradient backgrounds */
  @keyframes shimmer-gradient {
    0% {
      background-position: 0% center;
    }
    100% {
      background-position: 200% center;
    }
  }

  .shimmer-gradient {
    background: linear-gradient(
      90deg,
      #7c3aed 0%,
      #6366f1 25%,
      #3b82f6 50%,
      #6366f1 75%,
      #7c3aed 100%
    );
    background-size: 200% auto;
    animation: shimmer-gradient 4s linear infinite;
  }

  /* Custom scrollbar styling */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
    border-radius: 10px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, rgb(168 85 247), rgb(147 51 234));
    border-radius: 10px;
    transition: background 0.3s ease;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, rgb(147 51 234), rgb(126 34 206));
  }

  /* Firefox scrollbar */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgb(168 85 247) transparent;
  }

  /* Check-in mood animations */
  @keyframes mood-glow-pulse {
    0%, 100% {
      box-shadow: 0 0 15px rgba(236, 72, 153, 0.3);
    }
    50% {
      box-shadow: 0 0 25px rgba(236, 72, 153, 0.6), 0 0 35px rgba(236, 72, 153, 0.3);
    }
  }

  .mood-selected {
    animation: mood-glow-pulse 2s ease-in-out infinite;
  }

  /* Apple-inspired background animations */
  @keyframes slow-drift {
    0%, 100% {
      transform: translate(0, 0) rotate(0deg);
      opacity: 0.4;
    }
    25% {
      transform: translate(10px, -10px) rotate(1deg);
      opacity: 0.6;
    }
    50% {
      transform: translate(-5px, 15px) rotate(-0.5deg);
      opacity: 0.3;
    }
    75% {
      transform: translate(-10px, -5px) rotate(0.5deg);
      opacity: 0.5;
    }
  }

  @keyframes float-slow {
    0%, 100% {
      transform: translateY(0px) scale(1);
      opacity: 0.2;
    }
    50% {
      transform: translateY(-20px) scale(1.05);
      opacity: 0.4;
    }
  }

  @keyframes pulse-slow {
    0%, 100% {
      opacity: 0.1;
      transform: scale(1);
    }
    50% {
      opacity: 0.2;
      transform: scale(1.1);
    }
  }

  .animate-slow-drift {
    animation: slow-drift 20s ease-in-out infinite;
  }

  .animate-float-slow {
    animation: float-slow 25s ease-in-out infinite;
  }

  .animate-pulse-slow {
    animation: pulse-slow 8s ease-in-out infinite;
  }

  /* Time-aware gradient variants */
  .bg-time-morning {
    background: linear-gradient(
      135deg,
      rgba(251, 146, 60, 0.1) 0%,
      rgba(252, 211, 77, 0.05) 50%,
      rgba(236, 72, 153, 0.03) 100%
    );
  }

  .bg-time-afternoon {
    background: linear-gradient(
      135deg,
      rgba(59, 130, 246, 0.1) 0%,
      rgba(6, 182, 212, 0.05) 50%,
      rgba(99, 102, 241, 0.03) 100%
    );
  }

  .bg-time-evening {
    background: linear-gradient(
      135deg,
      rgba(124, 58, 237, 0.1) 0%,
      rgba(99, 102, 241, 0.05) 50%,
      rgba(139, 92, 246, 0.03) 100%
    );
  }

  .bg-time-night {
    background: linear-gradient(
      135deg,
      rgba(99, 102, 241, 0.08) 0%,
      rgba(59, 130, 246, 0.04) 50%,
      rgba(124, 58, 237, 0.02) 100%
    );
  }

  /* Enhanced shimmer for time-aware welcome box */
  @keyframes time-shimmer-morning {
    0% {
      background-position: 0% center;
    }
    100% {
      background-position: 200% center;
    }
  }

  @keyframes time-shimmer-afternoon {
    0% {
      background-position: 0% center;
    }
    100% {
      background-position: 200% center;
    }
  }

  @keyframes time-shimmer-evening {
    0% {
      background-position: 0% center;
    }
    100% {
      background-position: 200% center;
    }
  }

  @keyframes time-shimmer-night {
    0% {
      background-position: 0% center;
    }
    100% {
      background-position: 200% center;
    }
  }

  .shimmer-time-morning {
    background: linear-gradient(
      90deg,
      #f59e0b 0%,
      #f97316 25%,
      #ec4899 50%,
      #f97316 75%,
      #f59e0b 100%
    );
    background-size: 200% auto;
    animation: time-shimmer-morning 5s linear infinite;
  }

  .shimmer-time-afternoon {
    background: linear-gradient(
      90deg,
      #3b82f6 0%,
      #06b6d4 25%,
      #6366f1 50%,
      #06b6d4 75%,
      #3b82f6 100%
    );
    background-size: 200% auto;
    animation: time-shimmer-afternoon 4s linear infinite;
  }

  .shimmer-time-evening {
    background: linear-gradient(
      90deg,
      #7c3aed 0%,
      #6366f1 25%,
      #8b5cf6 50%,
      #6366f1 75%,
      #7c3aed 100%
    );
    background-size: 200% auto;
    animation: time-shimmer-evening 4s linear infinite;
  }

  .shimmer-time-night {
    background: linear-gradient(
      90deg,
      #4338ca 0%,
      #3730a3 25%,
      #6366f1 50%,
      #3730a3 75%,
      #4338ca 100%
    );
    background-size: 200% auto;
    animation: time-shimmer-night 6s linear infinite;
  }

  /* Apple-style glassmorphism utilities */
  .glass-subtle {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px) saturate(150%);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .glass-medium {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(15px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }

  .glass-strong {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(20px) saturate(200%);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  /* Dark mode glassmorphism */
  .dark .glass-subtle {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.05);
  }

  .dark .glass-medium {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .dark .glass-strong {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }

  @keyframes expand-smooth {
    0% {
      opacity: 0;
      max-height: 0;
      transform: translateY(-10px);
    }
    100% {
      opacity: 1;
      max-height: 500px;
      transform: translateY(0);
    }
  }

  .animate-expand {
    animation: expand-smooth 0.3s ease-out forwards;
  }

  @keyframes celebration-pop {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1) rotate(5deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  .animate-celebration {
    animation: celebration-pop 0.5s ease-in-out;
  }

  @keyframes partner-pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.05);
      opacity: 0.9;
    }
  }

  .animate-partner-update {
    animation: partner-pulse 1s ease-in-out 2;
  }

  /* Fade in animation for weekly insights */
  @keyframes fadeIn {
    0% {
      opacity: 0;
      transform: translateY(10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.3s ease-out forwards;
  }

  /* ===== DYNAMIC BUTTON ANIMATION SYSTEM ===== */

  /* Level 1: Enhanced hover/focus for all buttons */
  @keyframes button-hover-glow {
    0% {
      box-shadow: 0 0 0 rgba(var(--feature-color), 0);
    }
    100% {
      box-shadow: 0 0 20px rgba(var(--feature-color), 0.3);
    }
  }

  @keyframes button-hover-scale {
    0% {
      transform: scale(1);
    }
    100% {
      transform: scale(1.02);
    }
  }

  /* Level 2: Breathing animation for primary buttons */
  @keyframes button-breathing {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 0 10px rgba(var(--feature-color), 0.2);
    }
    50% {
      transform: scale(1.015);
      box-shadow: 0 0 15px rgba(var(--feature-color), 0.35);
    }
  }

  /* Level 3: Ripple effect */
  @keyframes button-ripple {
    0% {
      transform: scale(0);
      opacity: 0.6;
    }
    100% {
      transform: scale(4);
      opacity: 0;
    }
  }

  /* Level 4: Success celebration */
  @keyframes button-celebration {
    0% {
      transform: scale(1) rotate(0deg);
    }
    25% {
      transform: scale(1.05) rotate(2deg);
    }
    50% {
      transform: scale(1.08) rotate(-1deg);
    }
    75% {
      transform: scale(1.03) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes success-glow-burst {
    0% {
      box-shadow: 0 0 0 rgba(34, 197, 94, 0);
    }
    50% {
      box-shadow: 0 0 30px rgba(34, 197, 94, 0.6);
    }
    100% {
      box-shadow: 0 0 0 rgba(34, 197, 94, 0);
    }
  }

  /* Feature-specific button glow colors */
  .btn-feature-tasks {
    --feature-color: 59, 130, 246; /* blue-500 */
  }

  .btn-feature-calendar {
    --feature-color: 124, 58, 237; /* purple-600 */
  }

  .btn-feature-messages {
    --feature-color: 16, 185, 129; /* emerald-500 */
  }

  .btn-feature-shopping {
    --feature-color: 5, 150, 105; /* emerald-600 */
  }

  .btn-feature-meals {
    --feature-color: 234, 88, 12; /* orange-600 */
  }

  .btn-feature-reminders {
    --feature-color: 236, 72, 153; /* pink-500 */
  }

  .btn-feature-goals {
    --feature-color: 99, 102, 241; /* indigo-500 */
  }

  .btn-feature-budget {
    --feature-color: 245, 158, 11; /* amber-500 */
  }

  .btn-feature-projects {
    --feature-color: 245, 158, 11; /* amber-500 */
  }

  .btn-feature-dashboard {
    --feature-color: 124, 58, 237; /* purple-600 */
  }

  /* Button animation classes */
  .btn-enhanced {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .btn-enhanced:hover {
    animation: button-hover-scale 0.3s ease-out forwards;
  }

  .btn-enhanced:focus-visible {
    animation: button-hover-glow 0.3s ease-out forwards;
  }

  .btn-breathing {
    animation: button-breathing 3s ease-in-out infinite;
  }

  .btn-magnetic {
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .btn-celebration {
    animation: button-celebration 0.6s ease-out;
  }

  .btn-success-burst {
    animation: success-glow-burst 0.8s ease-out;
  }

  /* Ripple effect container */
  .btn-ripple {
    position: relative;
    overflow: hidden;
  }

  .btn-ripple::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.3s, height 0.3s;
  }

  .btn-ripple:active::before {
    width: 200px;
    height: 200px;
    animation: button-ripple 0.4s ease-out;
  }

  /* Gradient shift animations */
  @keyframes gradient-shift-tasks {
    0% { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
    100% { background: linear-gradient(135deg, #6366f1, #3b82f6); }
  }

  @keyframes gradient-shift-calendar {
    0% { background: linear-gradient(135deg, #7c3aed, #5b21b6); }
    100% { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
  }

  @keyframes gradient-shift-messages {
    0% { background: linear-gradient(135deg, #10b981, #047857); }
    100% { background: linear-gradient(135deg, #34d399, #10b981); }
  }

  @keyframes gradient-shift-shopping {
    0% { background: linear-gradient(135deg, #059669, #065f46); }
    100% { background: linear-gradient(135deg, #10b981, #059669); }
  }

  @keyframes gradient-shift-meals {
    0% { background: linear-gradient(135deg, #ea580c, #c2410c); }
    100% { background: linear-gradient(135deg, #f97316, #ea580c); }
  }

  @keyframes gradient-shift-reminders {
    0% { background: linear-gradient(135deg, #ec4899, #be185d); }
    100% { background: linear-gradient(135deg, #f472b6, #ec4899); }
  }

  @keyframes gradient-shift-goals {
    0% { background: linear-gradient(135deg, #6366f1, #4338ca); }
    100% { background: linear-gradient(135deg, #8b5cf6, #6366f1); }
  }

  @keyframes gradient-shift-budget {
    0% { background: linear-gradient(135deg, #f59e0b, #d97706); }
    100% { background: linear-gradient(135deg, #fbbf24, #f59e0b); }
  }

  /* Feature-specific gradient shifts */
  .btn-gradient-shift-tasks:hover {
    animation: gradient-shift-tasks 0.3s ease-out forwards;
  }

  .btn-gradient-shift-calendar:hover {
    animation: gradient-shift-calendar 0.3s ease-out forwards;
  }

  .btn-gradient-shift-messages:hover {
    animation: gradient-shift-messages 0.3s ease-out forwards;
  }

  .btn-gradient-shift-shopping:hover {
    animation: gradient-shift-shopping 0.3s ease-out forwards;
  }

  .btn-gradient-shift-meals:hover {
    animation: gradient-shift-meals 0.3s ease-out forwards;
  }

  .btn-gradient-shift-reminders:hover {
    animation: gradient-shift-reminders 0.3s ease-out forwards;
  }

  .btn-gradient-shift-goals:hover {
    animation: gradient-shift-goals 0.3s ease-out forwards;
  }

  .btn-gradient-shift-budget:hover {
    animation: gradient-shift-budget 0.3s ease-out forwards;
  }

  /* Accessibility: Respect motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .btn-enhanced,
    .btn-breathing,
    .btn-magnetic,
    .btn-celebration,
    .btn-success-burst,
    .btn-ripple::before {
      animation: none !important;
      transition: none !important;
    }

    .btn-enhanced:hover,
    .btn-enhanced:focus-visible {
      transform: none !important;
      animation: none !important;
    }
  }

  /* Loading state animations */
  @keyframes btn-loading-pulse {
    0%, 100% {
      opacity: 0.7;
    }
    50% {
      opacity: 1;
    }
  }

  .btn-loading {
    animation: btn-loading-pulse 1.5s ease-in-out infinite;
    pointer-events: none;
  }

  /* ===== MOBILE OPTIMIZATION UTILITIES ===== */

  /* Mobile-optimized form inputs (48px height minimum) */
  .input-mobile {
    @apply px-4 py-3 text-base md:px-4 md:py-2.5 md:text-sm;
  }

  /* Mobile touch target - buttons (48x48px minimum) */
  .btn-touch {
    @apply px-6 py-3 text-base md:px-5 md:py-2.5 md:text-sm min-w-[120px];
  }

  /* Icon buttons mobile (48x48px) */
  .btn-icon-mobile {
    @apply w-12 h-12 md:w-10 md:h-10;
  }

  /* Hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Horizontal scroll container */
  .scroll-mobile {
    overflow-x: auto;
    margin-left: -1rem;
    margin-right: -1rem;
    padding-left: 1rem;
    padding-right: 1rem;
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scroll-mobile::-webkit-scrollbar {
    display: none;
  }

  @media (min-width: 640px) {
    .scroll-mobile {
      margin-left: 0;
      margin-right: 0;
      padding-left: 0;
      padding-right: 0;
    }
  }

  /* Modal mobile-optimized */
  .modal-mobile {
    @apply fixed inset-0 z-50;
  }

  .modal-container {
    @apply relative bg-white dark:bg-gray-800 w-full h-full sm:w-auto sm:h-auto sm:max-w-md sm:max-h-[90vh] sm:rounded-xl overflow-y-auto overscroll-contain shadow-2xl;
  }

  /* Dropdown mobile safe */
  .dropdown-mobile {
    @apply max-w-[calc(100vw-2rem)] max-h-[80vh] overflow-y-auto;
  }

  /* Safe area support for iOS notch */
  @supports (padding-bottom: env(safe-area-inset-bottom)) {
    .pb-safe {
      padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
    }

    .toast-container {
      padding-bottom: calc(16px + env(safe-area-inset-bottom));
    }
  }

  /* Text truncation utilities */
  .truncate-mobile {
    @apply truncate sm:whitespace-normal;
  }

  /* Line clamp utilities */
  .line-clamp-mobile {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Touch feedback */
  .touch-feedback {
    @apply active:scale-95 transition-transform duration-100;
  }

  /* Larger focus rings on mobile */
  .focus-mobile {
    @apply focus:outline-none focus:ring-4 focus:ring-offset-2 md:focus:ring-2;
  }

  /* Stats cards mobile grid */
  .stats-grid-mobile {
    @apply grid grid-cols-1 min-[480px]:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 md:gap-6;
  }

  /* Snap scroll for horizontal lists */
  .snap-scroll {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    gap: 1rem;
    margin-left: -1rem;
    margin-right: -1rem;
    padding-left: 1rem;
    padding-right: 1rem;
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .snap-scroll::-webkit-scrollbar {
    display: none;
  }

  .snap-item {
    flex: none;
    scroll-snap-align: start;
  }

  /* Fade indicators for horizontal scroll */
  .scroll-fade-left {
    @apply absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-white dark:from-gray-900 to-transparent pointer-events-none z-10;
  }

  .scroll-fade-right {
    @apply absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-white dark:from-gray-900 to-transparent pointer-events-none z-10;
  }

  /* Glassmorphism for Sonner Toasts */
  [data-sonner-toast] {
    @apply backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 shadow-2xl;
  }

  [data-sonner-toast][data-type="success"] {
    @apply bg-green-50/90 dark:bg-green-900/90;
  }

  [data-sonner-toast][data-type="error"] {
    @apply bg-red-50/90 dark:bg-red-900/90;
  }

  [data-sonner-toast][data-type="warning"] {
    @apply bg-amber-50/90 dark:bg-amber-900/90;
  }

  [data-sonner-toast][data-type="info"] {
    @apply bg-blue-50/90 dark:bg-blue-900/90;
  }

  [data-sonner-toast][data-type="loading"] {
    @apply bg-white/90 dark:bg-gray-800/90;
  }

  /* Mobile-optimized spacing */
  .spacing-mobile {
    @apply gap-3 sm:gap-2;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Ripple effect for better touch feedback */
  @keyframes ripple-animation {
    to {
      transform: scale(4);
      opacity: 0;
    }
  }

  .ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.6);
    transform: scale(0);
    animation: ripple-animation 600ms ease-out;
  }

  /* Active state for better touch feedback */
  .btn-active {
    @apply active:bg-gray-200 dark:active:bg-gray-700;
  }

  /* Larger checkboxes/radios for mobile */
  .checkbox-mobile {
    @apply w-6 h-6 md:w-5 md:h-5;
  }

  /* Mobile-optimized toggle switches */
  .toggle-mobile {
    @apply w-14 h-8 md:w-12 md:h-7;
  }

  /* Word breaking for long text */
  .break-mobile {
    word-break: break-word;
    overflow-wrap: anywhere;
  }

  /* Mobile-first padding adjustments */
  .p-mobile {
    @apply p-4 sm:p-6;
  }

  .px-mobile {
    @apply px-4 sm:px-6;
  }

  .py-mobile {
    @apply py-4 sm:py-6;
  }

  /* Reduced Motion Support - Accessibility */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Mobile-optimized focus indicators */
  .focus-mobile {
    @apply focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-offset-2 md:focus:ring-2;
  }

  /* Landscape orientation optimizations */
  @media (orientation: landscape) and (max-height: 600px) {
    .landscape-compact {
      @apply py-2;
    }

    .landscape-grid-2 {
      @apply grid-cols-2;
    }
  }

  /* ===== VIEW TRANSITIONS API (Smooth Page Navigation) ===== */

  /* Enable view transitions for page navigation */
  @view-transition {
    navigation: auto;
  }

  /* Customize the default fade animation */
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation-duration: 0.3s;
    animation-timing-function: ease-in-out;
  }

  /* Fade out old page */
  ::view-transition-old(root) {
    animation-name: fade-out;
  }

  /* Fade in new page */
  ::view-transition-new(root) {
    animation-name: fade-in-slide;
  }

  @keyframes fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  @keyframes fade-in-slide {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Reduced motion: instant transitions */
  @media (prefers-reduced-motion: reduce) {
    ::view-transition-old(root),
    ::view-transition-new(root) {
      animation: none !important;
    }
  }

  /* Loading state transitions */
  @keyframes skeleton-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .loading-pulse {
    animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}
