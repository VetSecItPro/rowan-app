# ============================================================================
# ROWAN APP - ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to git - it contains secrets!
# ============================================================================

# ----------------------------------------------------------------------------
# SUPABASE
# ----------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ----------------------------------------------------------------------------
# APP CONFIGURATION
# ----------------------------------------------------------------------------
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=Rowan

# ----------------------------------------------------------------------------
# POLAR (Payment Processing)
# ----------------------------------------------------------------------------
# Get these from: https://polar.sh/dashboard

# Access token (server-side only - NEVER expose to client)
POLAR_ACCESS_TOKEN=polar_token_your-access-token-here

# Webhook secret (from Polar Dashboard → Settings → Webhooks)
POLAR_WEBHOOK_SECRET=your-polar-webhook-secret-here

# Product IDs (create products in Polar Dashboard first)
# https://polar.sh/dashboard/products
POLAR_PRO_MONTHLY_PRODUCT_ID=prod_pro_monthly_id_here
POLAR_PRO_ANNUAL_PRODUCT_ID=prod_pro_annual_id_here
POLAR_FAMILY_MONTHLY_PRODUCT_ID=prod_family_monthly_id_here
POLAR_FAMILY_ANNUAL_PRODUCT_ID=prod_family_annual_id_here

# ----------------------------------------------------------------------------
# ADMIN SESSION SECURITY
# ----------------------------------------------------------------------------
# Secret key for encrypting admin session data (AES-256-GCM)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ADMIN_SESSION_SECRET=your-64-character-hex-string-here

# ----------------------------------------------------------------------------
# UPSTASH REDIS (Rate Limiting)
# ----------------------------------------------------------------------------
UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token-here

# ----------------------------------------------------------------------------
# RESEND (Email Service)
# ----------------------------------------------------------------------------
RESEND_API_KEY=re_your-api-key-here

# ----------------------------------------------------------------------------
# SPOONACULAR (Recipe API)
# ----------------------------------------------------------------------------
SPOONACULAR_API_KEY=your-spoonacular-key-here

# ----------------------------------------------------------------------------
# TASTY API (Recipe Discovery)
# ----------------------------------------------------------------------------
RAPIDAPI_KEY=your-rapidapi-key-here

# ----------------------------------------------------------------------------
# OCR SPACE (Receipt Scanning)
# ----------------------------------------------------------------------------
OCR_SPACE_API_KEY=your-ocr-space-key-here

# ----------------------------------------------------------------------------
# FEATURE FLAGS (Optional)
# ----------------------------------------------------------------------------
# Set to "true" to enable monetization features
ENABLE_MONETIZATION=false
# Set to "true" to enable AI companion (ChatFAB, conversations, voice)
NEXT_PUBLIC_ENABLE_AI_COMPANION=false

# ----------------------------------------------------------------------------
# AI COMPANION (Required if AI_COMPANION flag is enabled)
# ----------------------------------------------------------------------------
# Get from: https://aistudio.google.com/apikey
GOOGLE_GEMINI_API_KEY=your-gemini-api-key-here

# ----------------------------------------------------------------------------
# SENTRY (Error Tracking)
# ----------------------------------------------------------------------------
# Create project at https://sentry.io → Settings → Projects → Create Project (Next.js)
# DSN is on the project's "Client Keys" page
NEXT_PUBLIC_SENTRY_DSN=https://your-dsn@your-org.ingest.us.sentry.io/your-project-id
SENTRY_ORG=your-sentry-org-slug
SENTRY_PROJECT=your-sentry-project-slug
SENTRY_AUTH_TOKEN=sntryu_your-auth-token-here
NEXT_PUBLIC_SENTRY_ENVIRONMENT=production

# ----------------------------------------------------------------------------
# FIREBASE (Push Notifications via FCM v1 API)
# ----------------------------------------------------------------------------
# Get from: Firebase Console → Project Settings → Service Accounts → Generate new private key
# Paste the ENTIRE downloaded JSON as a single-line string
# Optional — app gracefully degrades without it (no native push notifications)
# FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"your-firebase-project",...}

# ----------------------------------------------------------------------------
# CRON JOBS (Required for background tasks)
# ----------------------------------------------------------------------------
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# WITHOUT this, reminders, recurring tasks, account deletions, and daily digests won't run
CRON_SECRET=your-64-character-hex-string-here

# ----------------------------------------------------------------------------
# NOTES:
# ----------------------------------------------------------------------------
# - Polar access tokens can be created in the Dashboard → Settings → Access Tokens
# - Create Polar products BEFORE adding product IDs here
# - Webhook secrets are generated when you create a webhook endpoint
# - CRON_SECRET must also be set in Vercel Dashboard → Settings → Environment Variables
# - Sentry vars must also be set in Vercel for production error tracking
# ============================================================================
