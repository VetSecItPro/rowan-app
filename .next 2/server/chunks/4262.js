"use strict";exports.id=4262,exports.ids=[4262],exports.modules={34336:(e,t,a)=>{a.d(t,{T:()=>o});var r=a(10326),s=a(17577),i=a(29798),l=a(94019),n=a(85999);function o({isOpen:e,onClose:t,onSpaceCreated:a}){let[o,d]=(0,s.useState)(""),[c,m]=(0,s.useState)(!1),x=async e=>{if(e.preventDefault(),!o.trim()){n.Am.error("Please enter a space name");return}m(!0);try{let e=await fetch("/api/spaces/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.trim()})}),r=await e.json();if(!e.ok||!r.success)throw Error(r.error||"Failed to create space");n.Am.success("Space created successfully"),a(r.data.id,r.data.name),t()}catch(e){console.error("Error creating space:",e),n.Am.error(e instanceof Error?e.message:"Failed to create space")}finally{m(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t,children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl",onClick:e=>e.stopPropagation(),children:[r.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-t-2xl",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:r.jsx(i.Z,{className:"w-6 h-6"})}),r.jsx("h2",{className:"text-2xl font-bold",children:"Create New Space"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:r.jsx(l.Z,{className:"w-5 h-5"})})]})}),(0,r.jsxs)("form",{onSubmit:x,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Space Name *"}),r.jsx("input",{type:"text",required:!0,value:o,onChange:e=>d(e.target.value),placeholder:"e.g., Our Family, The Johnsons, Home Sweet Home",className:"w-full px-4 py-3 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 dark:text-white",disabled:c,maxLength:100}),r.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"This is the name of your shared space where you'll manage tasks, events, and more together."})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,disabled:c,className:"flex-1 px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:opacity-90 transition-all shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Creating...":"Create Space"})]})]})]})}):null}},81009:(e,t,a)=>{a.d(t,{p:()=>m});var r=a(10326),s=a(17577),i=a(74975),l=a(94019),n=a(5932),o=a(32933),d=a(43810),c=a(85999);function m({isOpen:e,onClose:t,spaceId:a,spaceName:m}){let[x,p]=(0,s.useState)(""),[g,h]=(0,s.useState)(!1),[u,b]=(0,s.useState)(null),[y,f]=(0,s.useState)(!1),j=async e=>{if(e.preventDefault(),!x.trim()){c.Am.error("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.trim())){c.Am.error("Please enter a valid email address");return}h(!0);try{let e=await fetch("/api/spaces/invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({space_id:a,email:x.trim().toLowerCase()})}),t=await e.json();if(!e.ok||!t.success)throw Error(t.error||"Failed to send invitation");c.Am.success("Invitation sent successfully"),b(t.data.invitation_url)}catch(e){console.error("Error sending invitation:",e),c.Am.error(e instanceof Error?e.message:"Failed to send invitation")}finally{h(!1)}},v=async()=>{if(u)try{await navigator.clipboard.writeText(u),f(!0),c.Am.success("Invitation link copied to clipboard"),setTimeout(()=>f(!1),2e3)}catch(e){c.Am.error("Failed to copy link")}},N=()=>{p(""),b(null),f(!1),t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:N,children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full shadow-2xl",onClick:e=>e.stopPropagation(),children:[r.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-t-2xl",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:r.jsx(i.Z,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Invite to Space"}),r.jsx("p",{className:"text-purple-100 text-sm mt-1",children:m})]})]}),r.jsx("button",{onClick:N,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:r.jsx(l.Z,{className:"w-5 h-5"})})]})}),u?(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(o.Z,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Invitation Sent!"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["An invitation has been sent to ",r.jsx("span",{className:"font-medium",children:x})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Invitation Link"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:u,readOnly:!0,className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white text-sm"}),r.jsx("button",{type:"button",onClick:v,className:"px-4 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors",title:"Copy link",children:y?r.jsx(o.Z,{className:"w-5 h-5"}):r.jsx(d.Z,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"You can also share this link directly with them."})]}),r.jsx("button",{type:"button",onClick:N,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:opacity-90 transition-all shadow-lg font-medium",children:"Done"})]}):(0,r.jsxs)("form",{onSubmit:j,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"email",required:!0,value:x,onChange:e=>p(e.target.value),placeholder:"partner@example.com",className:"w-full pl-11 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 dark:text-white",disabled:g})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"They'll receive an email with a link to join this space."})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:N,disabled:g,className:"flex-1 px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:opacity-90 transition-all shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Sending...":"Send Invitation"})]})]})]})}):null}},35442:(e,t,a)=>{a.d(t,{O:()=>l});var r=a(51812);let s="https://mhqpjprmpvigmwcghpzx.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ocXBqcHJtcHZpZ213Y2docHp4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2OTQxMzgsImV4cCI6MjA3NTI3MDEzOH0.1Nq1wxQwo03Z5mN_ZsA97i6m3opb5HB64FVsAnV6nz4";if(!s)throw Error("Missing environment variable: NEXT_PUBLIC_SUPABASE_URL");if(!i)throw Error("Missing environment variable: NEXT_PUBLIC_SUPABASE_ANON_KEY");let l=(0,r.eI)(s,i,{auth:{persistSession:!0,autoRefreshToken:!0}})}};