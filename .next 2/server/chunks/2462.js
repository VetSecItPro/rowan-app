exports.id=2462,exports.ids=[2462],exports.modules={80004:(e,r,t)=>{Promise.resolve().then(t.bind(t,67733))},48641:(e,r,t)=>{Promise.resolve().then(t.bind(t,27670))},3688:(e,r,t)=>{Promise.resolve().then(t.bind(t,46885)),Promise.resolve().then(t.bind(t,10271))},37058:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},8162:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,79404,23))},67733:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var a=t(10326);t(17577);var n=t(90434);function o({error:e,reset:r}){return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-500 via-orange-500 to-yellow-500",children:(0,a.jsxs)("div",{className:"text-center p-8 bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 dark:text-white mb-4",children:"Oops!"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"We're sorry, but something unexpected happened. Please try again."}),(0,a.jsxs)("div",{className:"flex gap-4 justify-center",children:[a.jsx("button",{onClick:r,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Try Again"}),a.jsx(n.default,{href:"/",className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Go Home"})]})]})})}},27670:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var a=t(10326);function n({error:e,reset:r}){return a.jsx("html",{children:a.jsx("body",{children:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-500 via-orange-500 to-yellow-500",children:(0,a.jsxs)("div",{className:"text-center p-8 bg-white rounded-2xl shadow-2xl max-w-md",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"500"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"We're sorry, but something unexpected happened. Please try again."}),a.jsx("button",{onClick:r,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Try Again"})]})})})})}},46885:(e,r,t)=>{"use strict";t.d(r,{ThemeProvider:()=>o});var a=t(10326),n=t(14831);function o({children:e,...r}){return a.jsx(n.f,{...r,children:e})}},10271:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>i,a:()=>l});var a=t(10326),n=t(17577),o=t(42945);t(94327);let s=(0,n.createContext)(void 0);function i({children:e}){let[r,t]=(0,n.useState)(null),[i,l]=(0,n.useState)(null),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(null),[h,p]=(0,n.useState)(!0),g=(0,n.useMemo)(()=>(0,o.e)(),[]);async function x(e){if(!e||"undefined"===e||"null"===e||e.length<36){console.warn("Invalid userId, skipping space load:",e),d([]),m(null);return}try{let{data:r,error:t}=await g.from("space_members").select(`
          role,
          spaces (
            id,
            name,
            created_at,
            updated_at
          )
        `).eq("user_id",e).order("joined_at",{ascending:!1});if(t){console.log("User has no spaces yet or error loading spaces:",t.message),d([]),m(null);return}if(!r||0===r.length){console.log("User has no spaces yet"),d([]),m(null);return}let a=r.map(e=>({...e.spaces,role:e.role}));d(a),!u&&a.length>0&&m(a[0])}catch(e){console.log("Exception loading user spaces (non-blocking):",e),d([]),m(null)}}let b=async(e,r,t)=>{try{let{data:a,error:n}=await g.auth.signUp({email:e,password:r,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});if(n)return{error:n};if(!a.user)return{error:Error("User creation failed")};let o=t.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,{error:s}=await g.from("users").insert({id:a.user.id,email:a.user.email,name:t.name,pronouns:t.pronouns,color_theme:t.color_theme||"emerald",timezone:o});if(s){console.error("Error creating user profile:",s);try{(await fetch("/api/auth/cleanup-orphaned-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a.user.id})})).ok?console.log("Cleaned up orphaned auth user"):console.error("Failed to cleanup orphaned auth user")}catch(e){console.error("Failed to cleanup orphaned auth user:",e)}if(s.message.includes("duplicate")||s.message.includes("unique"))return{error:Error("An account with this email already exists")};return{error:Error("Failed to create user profile")}}if(t.space_name)try{let{data:e,error:r}=await g.from("spaces").insert({name:t.space_name}).select().single();if(r)console.error("Error creating space:",r);else if(e){let{error:r}=await g.from("space_members").insert({space_id:e.id,user_id:a.user.id,role:"owner"});if(r)console.error("Error adding user to space:",r);else{let r={...e,role:"owner"};d([r]),m(r)}}}catch(e){console.error("Space creation failed (non-blocking):",e)}return{error:null}}catch(e){return console.error("Sign up error:",e),{error:e}}},f=async(e,r)=>{try{let{error:t}=await g.auth.signInWithPassword({email:e,password:r});if(t){if(t.message.includes("Invalid login credentials"))return{error:Error("Invalid email or password")};return{error:t}}return{error:null}}catch(e){return console.error("Sign in error:",e),{error:e}}},y=async()=>{try{await g.auth.signOut(),d([]),m(null)}catch(e){console.error("Sign out error:",e)}},w=async()=>{i?.user?.id&&await x(i.user.id)};return a.jsx(s.Provider,{value:{user:r,session:i,spaces:c,currentSpace:u,loading:h,signUp:b,signIn:f,signOut:y,switchSpace:e=>{m(e)},refreshSpaces:w},children:e})}function l(){let e=(0,n.useContext)(s);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},42945:(e,r,t)=>{"use strict";t.d(r,{e:()=>n});var a=t(92817);let n=()=>{let e="https://mhqpjprmpvigmwcghpzx.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ocXBqcHJtcHZpZ213Y2docHp4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2OTQxMzgsImV4cCI6MjA3NTI3MDEzOH0.1Nq1wxQwo03Z5mN_ZsA97i6m3opb5HB64FVsAnV6nz4";if(!e||!r)throw Error("Missing Supabase environment variables");return(0,a.createBrowserClient)(e,r)}},26083:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/airborneshellback/Documents/16. Vibe Code Projects/rowan-app/app/error.tsx#default`)},48001:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/airborneshellback/Documents/16. Vibe Code Projects/rowan-app/app/global-error.tsx#default`)},57367:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c,dynamic:()=>i,metadata:()=>l});var a=t(19510);t(67272);var n=t(68570);let o=(0,n.createProxy)(String.raw`/Users/airborneshellback/Documents/16. Vibe Code Projects/rowan-app/components/theme/ThemeProvider.tsx#ThemeProvider`),s=(0,n.createProxy)(String.raw`/Users/airborneshellback/Documents/16. Vibe Code Projects/rowan-app/lib/contexts/auth-context.tsx#AuthProvider`);(0,n.createProxy)(String.raw`/Users/airborneshellback/Documents/16. Vibe Code Projects/rowan-app/lib/contexts/auth-context.tsx#useAuth`);let i="force-dynamic",l={title:"Rowan - Your Life, Organized",description:"Collaborative life management for couples and families"};function c({children:e}){return a.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:a.jsx("body",{className:"antialiased bg-white dark:bg-black text-gray-900 dark:text-white",children:a.jsx(o,{attribute:"class",defaultTheme:"dark",enableSystem:!1,storageKey:"rowan-theme",disableTransitionOnChange:!0,children:a.jsx(s,{children:e})})})})}},96560:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s,dynamic:()=>o});var a=t(19510),n=t(57371);let o="force-dynamic";function s(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500",children:(0,a.jsxs)("div",{className:"text-center p-8 bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 dark:text-white mb-4",children:"404"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),a.jsx(n.default,{href:"/",className:"inline-block px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Go Home"})]})})}},4998:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var a=t(66621);let n=e=>[{type:"image/png",sizes:"660x650",url:(0,a.fillMetadataSegment)(".",e.params,"icon.png")+"?1db4e87ef8ff69ed"}]},67272:()=>{}};